<%= simple_form_for @event do |form| %>
  <%= form.error_notification %>

  <div class="alert alert-danger" id="alert-missing-fields" style="display: none;">
    Veuillez remplir tous les champs obligatoires.
  </div>

  <div class="form-inputs mt-4">
    <%= form.input :name, input_html: { class: 'field-bg-color field-no-border', placeholder: 'Enter the name of your event' } %>
    <%= form.input :location, input_html: { class: 'field-bg-color field-no-border', placeholder: 'Enter the adress of your event' } %>
    <%= form.input :description, input_html: { class: 'field-bg-color field-no-border', placeholder: 'Enter a description of your event' } %>
    <%= form.input :date_time, input_html: { class: 'field-bg-color field-no-border', value: @event.date_time.try(:strftime, '%Y-%m-%d %H:%M'), placeholder: 'Select date and time' }, wrapper_html: { class: 'mb-3' }, html5: true %>
    <%= form.input :image, as: :file, input_html: { class: 'field-bg-color field-no-border' } %>
    <%= form.hidden_field :open, value: true %>
  </div>

  <div class="form-actions text-end">
    <%= link_to 'Back', events_path, class: 'btn btn-secondary' %>
    <%= form.button :submit, 'Add event', class: 'btn btn-primary', onclick: 'return validateForm();' %>
  </div>
<% end %>

<script>
  function validateForm() {
    var name = document.getElementById('event_name').value;
    var location = document.getElementById('event_location').value;
    var description = document.getElementById('event_description').value;
    var dateTime = document.getElementById('event_date_time').value;

    if (name === '' || location === '' || description === '' || dateTime === '') {
      document.getElementById('alert-missing-fields').style.display = 'block';
      return false; // EmpÃªche l'envoi du formulaire
    }

    return true; // Permet l'envoi du formulaire si tout est rempli
  }
</script>
